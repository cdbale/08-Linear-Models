---
title: "08 Starter Code"
format: docx
editor: visual
---

This file contains the code for Lecture 08: Linear Models.

## A Note on Randomization

```{r}
# Random number are, well, random.
# if you run this chunk a few times, you'll see that the output is different
# each time, and it's different from what Dr. Bale's slides show as well
rnorm(1)
rnorm(1)
rnorm(1)
```

```{r}
# But using set.seed() we at least start at the *same* random number each time.
set.seed(42)
rnorm(1)

set.seed(42)
rnorm(1)

set.seed(42)
rnorm(1)
```

## Simulate Data

Whenever we design a statistical model, it is possible to simulate data from this model. In other words, we can pretend that our model captures the true "story" of how data is generated, and use that model to generate data.

```{r}
# Load packages.
library(tidyverse)

## set a random seed so that our simulation is consistent
set.seed(42)

# Set the parameter values.
beta0 <- 3
beta1 <- 7

# Simulate data.
sim_data <- tibble(
  x = runif(100, min = 0, max = 7),
  y = beta0 + beta1 * x + rnorm(100, mean = 0, sd = 3)
)
```

We can also plot the simulated data.

```{r}
# plot simulated data
# what happens if we change some of the aspects of the simulation in
# the previous code chunk?
sim_data |> 
  ggplot(aes(x = x, y = y)) +
  geom_point()
```

Load the `tidymodels` package.

```{r}
library(tidymodels)
```

To define a regression model, we just need two things: the **model type** and how the model will be estimated (the **engine**).

```{r}
# Specify the model type and engine.
reg_model <- linear_reg() |> 
  set_engine("lm")
```

```{r}
# what is this reg_model object?
reg_model
```

```{r}
# we can fit our model to our data
(reg_model <- reg_model |>
  fit(y ~ x, data = sim_data))
```

```{r}
# view a tabulated version of the model results
reg_model |>
  tidy()
```

## Live Coding Exercise

Our client, Kroger, has requested that we walk them through the basics of linear regression using a hypothetical example. Let's construct an example, define our story, translate it to a model, use that model to simulate data, and fit our model to the simulated data.

```{r}

```
